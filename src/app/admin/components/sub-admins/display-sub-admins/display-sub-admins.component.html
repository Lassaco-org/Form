<!-- Alert -->
<app-alert-popup
  *ngIf="isAlert"
  [text]="alertMessage"
  [color]="alertColor"
></app-alert-popup>

<section class="main_header dis-flex">
  <div class="breadcrumb">
    <h3 class="clicable" routerLink="/admin/display-admins">Admins</h3>
  </div>
  <div class="btns">
    <button class="btn prim_btn" routerLink="/admin/add-admin">
      Add admin
    </button>
  </div>
</section>

<section class="all-admins">
  <div class="table-container">
    <table>
      <tr class="table-header">
        <th>Name</th>
        <th>Email</th>
        <th>Total Surveys</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
      <tr class="table-body" *ngFor="let admin of allAdmins?.docs">
        <ng-container *ngIf="admin.type === 'admin'">
          <td>{{ admin.firstName + " " + admin.lastName }}</td>
          <td>{{ admin.email }}</td>
          <td>{{admin.totalSurveyCreated}}</td>
          <td>{{ admin.status }}</td>
          <td class="actions">
            <button
              type="button"
              class="btn suspend-btn"
              (click)="updateAccountStatus(admin)"
            >
              <span *ngIf="admin.status === 'active'">Suspend</span>
              <span *ngIf="admin.status === 'inactive'">Unsuspend</span>
            </button>
          </td>
        </ng-container>
      </tr>
    </table>
    <p *ngIf="allAdmins?.hasNextPage === true" (click)="allAdmins?.nextPage">Next</p>
    {{allAdmins?.nextPage}}
    <p *ngIf="allAdmins?.hasPreviousPage === true">Previous</p>
  </div>
  <!-- Data Loading -->
  <span class="loading-spinner" *ngIf="dataLoading">
    <div class="spinner-3"></div>
  </span>
</section>
